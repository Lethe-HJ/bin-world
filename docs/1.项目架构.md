# 项目架构

### 项目指导思想

1. **web技术优先**
    + 由于web技术栈的高兼容度, 因此一切以web优先
    + 需要兼容桌面应用和web应用两种使用方式
    + 桌面场景下web后端由桌面端进行控制 并通过webview加载web前端
    + web场景下web后端部署在linux服务器上 经由传统的web应用访问方式通过用户浏览器访问
2. **性能优先**
   1. 对于web前端优先使用ts进行技术验证, 性能敏感的部分使用rust重写编译成wasm, 再使用webworker加载wasm的方式给web前端使用
   2. 对于web后端优先使用python进行技术验证, 性能敏感的部分使用robyn中的rust进行重写
3. **类型优先**
   1. 各端的代码都使用类型 比如ts, python3的类型系统等
4. **文档优先**
   1. 各个代码实现都由文档指导
   2. 一定保持文档的更新
5. **oop优先**
   1. 除了rust代码以外其余的代码尽量通过oop的方式来进行抽象来降低复杂度
6. **代码质量**
   1. 始终通过完善的单元测试来确保代码质量
   2. 每个提交始终使用ai进行代码review

### 细节

1. 本项目由桌面端 web前端 和web后端 三端组成
2. 桌面端
   1. 桌面端是一个增强型浏览器壳子
   2. 桌面端使用webview加载web前端
   3. 桌面端为其中的web前端提供一系列
3. web后端
   1. 使用由tauri控制 web后端使用robyn框架
4. 性能优化
   1. 优先使用ts或者python进行验证, 验证成功后再使用rust重写(其中web前端可以将rust编译为wasm)
5. 使用subtree来隔离各个子项目